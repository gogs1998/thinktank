/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/docs/route";
exports.ids = ["app/api/docs/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/pdf-parse/lib/pdf.js sync recursive ^\\.\\/.*\\/build\\/pdf\\.js$":
/*!**************************************************************************!*\
  !*** ./node_modules/pdf-parse/lib/pdf.js/ sync ^\.\/.*\/build\/pdf\.js$ ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./v1.10.100/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.10.100/build/pdf.js",
	"./v1.10.88/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.10.88/build/pdf.js",
	"./v1.9.426/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.9.426/build/pdf.js",
	"./v2.0.550/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v2.0.550/build/pdf.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "(rsc)/./node_modules/pdf-parse/lib/pdf.js sync recursive ^\\.\\/.*\\/build\\/pdf\\.js$";

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocs%2Froute&page=%2Fapi%2Fdocs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocs%2Froute.ts&appDir=D%3A%5CCursor%5CThinkTank%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5CThinkTank&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocs%2Froute&page=%2Fapi%2Fdocs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocs%2Froute.ts&appDir=D%3A%5CCursor%5CThinkTank%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5CThinkTank&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Cursor_ThinkTank_app_api_docs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/docs/route.ts */ \"(rsc)/./app/api/docs/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/docs/route\",\n        pathname: \"/api/docs\",\n        filename: \"route\",\n        bundlePath: \"app/api/docs/route\"\n    },\n    resolvedPagePath: \"D:\\\\Cursor\\\\ThinkTank\\\\app\\\\api\\\\docs\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Cursor_ThinkTank_app_api_docs_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/docs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkb2NzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkb2NzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZG9jcyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ3Vyc29yJTVDVGhpbmtUYW5rJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDQ3Vyc29yJTVDVGhpbmtUYW5rJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXVsdGlib3QtY2hhdC1vcGVucm91dGVyLz80YzIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXEN1cnNvclxcXFxUaGlua1RhbmtcXFxcYXBwXFxcXGFwaVxcXFxkb2NzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kb2NzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZG9jc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZG9jcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXEN1cnNvclxcXFxUaGlua1RhbmtcXFxcYXBwXFxcXGFwaVxcXFxkb2NzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kb2NzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocs%2Froute&page=%2Fapi%2Fdocs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocs%2Froute.ts&appDir=D%3A%5CCursor%5CThinkTank%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5CThinkTank&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/docs/route.ts":
/*!*******************************!*\
  !*** ./app/api/docs/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdf_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdf-parse */ \"(rsc)/./node_modules/pdf-parse/index.js\");\n/* harmony import */ var pdf_parse__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdf_parse__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function GET(req) {\n    const threadId = req.nextUrl.searchParams.get(\"threadId\") || \"default\";\n    return Response.json({\n        docs: (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.listDocs)(threadId)\n    });\n}\nasync function POST(req) {\n    const threadId = req.nextUrl.searchParams.get(\"threadId\") || \"default\";\n    const ct = req.headers.get(\"content-type\") || \"\";\n    if (!ct.includes(\"multipart/form-data\")) {\n        return Response.json({\n            error: \"multipart/form-data required\"\n        }, {\n            status: 400\n        });\n    }\n    const form = await req.formData();\n    const file = form.get(\"file\");\n    if (!(file instanceof File)) {\n        return Response.json({\n            error: \"file required\"\n        }, {\n            status: 400\n        });\n    }\n    const name = file.name || \"document.txt\";\n    const buf = Buffer.from(await file.arrayBuffer());\n    let text = \"\";\n    if (name.toLowerCase().endsWith(\".pdf\")) {\n        try {\n            const parsed = await pdf_parse__WEBPACK_IMPORTED_MODULE_2___default()(buf);\n            text = parsed.text || \"\";\n        } catch (e) {\n            return Response.json({\n                error: \"failed to parse pdf\"\n            }, {\n                status: 400\n            });\n        }\n    } else {\n        text = buf.toString(\"utf8\");\n    }\n    (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.addDoc)(threadId, {\n        id: (0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)(),\n        name,\n        text,\n        ts: Date.now(),\n        enabled: true\n    });\n    return Response.json({\n        ok: true\n    });\n}\nasync function PATCH(req) {\n    const threadId = req.nextUrl.searchParams.get(\"threadId\") || \"default\";\n    const { id, enabled } = await req.json();\n    if (!id || typeof enabled !== \"boolean\") return Response.json({\n        error: \"id and enabled required\"\n    }, {\n        status: 400\n    });\n    (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.setDocEnabled)(threadId, id, enabled);\n    return Response.json({\n        ok: true\n    });\n}\nasync function DELETE(req) {\n    const threadId = req.nextUrl.searchParams.get(\"threadId\") || \"default\";\n    (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.clearDocs)(threadId);\n    return Response.json({\n        ok: true\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RvY3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ3NFO0FBQ2xDO0FBQ0g7QUFFMUIsZUFBZU0sSUFBSUMsR0FBZ0I7SUFDeEMsTUFBTUMsV0FBV0QsSUFBSUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxlQUFlO0lBQzdELE9BQU9DLFNBQVNDLElBQUksQ0FBQztRQUFFQyxNQUFNYixpREFBUUEsQ0FBQ087SUFBVTtBQUNsRDtBQUVPLGVBQWVPLEtBQUtSLEdBQWdCO0lBQ3pDLE1BQU1DLFdBQVdELElBQUlFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLENBQUMsZUFBZTtJQUM3RCxNQUFNSyxLQUFLVCxJQUFJVSxPQUFPLENBQUNOLEdBQUcsQ0FBQyxtQkFBbUI7SUFDOUMsSUFBSSxDQUFDSyxHQUFHRSxRQUFRLENBQUMsd0JBQXdCO1FBQ3ZDLE9BQU9OLFNBQVNDLElBQUksQ0FBQztZQUFFTSxPQUFPO1FBQStCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2hGO0lBQ0EsTUFBTUMsT0FBTyxNQUFNZCxJQUFJZSxRQUFRO0lBQy9CLE1BQU1DLE9BQU9GLEtBQUtWLEdBQUcsQ0FBQztJQUN0QixJQUFJLENBQUVZLENBQUFBLGdCQUFnQkMsSUFBRyxHQUFJO1FBQzNCLE9BQU9aLFNBQVNDLElBQUksQ0FBQztZQUFFTSxPQUFPO1FBQWdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2pFO0lBQ0EsTUFBTUssT0FBT0YsS0FBS0UsSUFBSSxJQUFJO0lBQzFCLE1BQU1DLE1BQU1DLE9BQU9DLElBQUksQ0FBQyxNQUFNTCxLQUFLTSxXQUFXO0lBQzlDLElBQUlDLE9BQU87SUFDWCxJQUFJTCxLQUFLTSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxTQUFTO1FBQ3ZDLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU01QixnREFBUUEsQ0FBQ3FCO1lBQzlCSSxPQUFPRyxPQUFPSCxJQUFJLElBQUk7UUFDeEIsRUFBRSxPQUFPSSxHQUFRO1lBQ2YsT0FBT3RCLFNBQVNDLElBQUksQ0FBQztnQkFBRU0sT0FBTztZQUFzQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDdkU7SUFDRixPQUFPO1FBQ0xVLE9BQU9KLElBQUlTLFFBQVEsQ0FBQztJQUN0QjtJQUNBbkMsK0NBQU1BLENBQUNRLFVBQVU7UUFBRTRCLElBQUloQyxrREFBVUE7UUFBSXFCO1FBQU1LO1FBQU1PLElBQUlDLEtBQUtDLEdBQUc7UUFBSUMsU0FBUztJQUFLO0lBQy9FLE9BQU81QixTQUFTQyxJQUFJLENBQUM7UUFBRTRCLElBQUk7SUFBSztBQUNsQztBQUVPLGVBQWVDLE1BQU1uQyxHQUFnQjtJQUMxQyxNQUFNQyxXQUFXRCxJQUFJRSxPQUFPLENBQUNDLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLGVBQWU7SUFDN0QsTUFBTSxFQUFFeUIsRUFBRSxFQUFFSSxPQUFPLEVBQUUsR0FBRyxNQUFNakMsSUFBSU0sSUFBSTtJQUN0QyxJQUFJLENBQUN1QixNQUFNLE9BQU9JLFlBQVksV0FBVyxPQUFPNUIsU0FBU0MsSUFBSSxDQUFDO1FBQUVNLE9BQU87SUFBMEIsR0FBRztRQUFFQyxRQUFRO0lBQUk7SUFDbEhsQixzREFBYUEsQ0FBQ00sVUFBVTRCLElBQUlJO0lBQzVCLE9BQU81QixTQUFTQyxJQUFJLENBQUM7UUFBRTRCLElBQUk7SUFBSztBQUNsQztBQUVPLGVBQWVFLE9BQU9wQyxHQUFnQjtJQUMzQyxNQUFNQyxXQUFXRCxJQUFJRSxPQUFPLENBQUNDLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLGVBQWU7SUFDN0RSLGtEQUFTQSxDQUFDSztJQUNWLE9BQU9JLFNBQVNDLElBQUksQ0FBQztRQUFFNEIsSUFBSTtJQUFLO0FBQ2xDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXVsdGlib3QtY2hhdC1vcGVucm91dGVyLy4vYXBwL2FwaS9kb2NzL3JvdXRlLnRzP2MzNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgYWRkRG9jLCBsaXN0RG9jcywgc2V0RG9jRW5hYmxlZCwgY2xlYXJEb2NzIH0gZnJvbSBcIkAvbGliL2RiXCI7XHJcbmltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tIFwiY3J5cHRvXCI7XHJcbmltcG9ydCBwZGZQYXJzZSBmcm9tIFwicGRmLXBhcnNlXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCB0aHJlYWRJZCA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ0aHJlYWRJZFwiKSB8fCBcImRlZmF1bHRcIjtcclxuICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGRvY3M6IGxpc3REb2NzKHRocmVhZElkKSB9KTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHRocmVhZElkID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcInRocmVhZElkXCIpIHx8IFwiZGVmYXVsdFwiO1xyXG4gIGNvbnN0IGN0ID0gcmVxLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpIHx8IFwiXCI7XHJcbiAgaWYgKCFjdC5pbmNsdWRlcyhcIm11bHRpcGFydC9mb3JtLWRhdGFcIikpIHtcclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgfVxyXG4gIGNvbnN0IGZvcm0gPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcclxuICBjb25zdCBmaWxlID0gZm9ybS5nZXQoXCJmaWxlXCIpO1xyXG4gIGlmICghKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSkge1xyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJmaWxlIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICB9XHJcbiAgY29uc3QgbmFtZSA9IGZpbGUubmFtZSB8fCBcImRvY3VtZW50LnR4dFwiO1xyXG4gIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKSk7XHJcbiAgbGV0IHRleHQgPSBcIlwiO1xyXG4gIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoXCIucGRmXCIpKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBwZGZQYXJzZShidWYpO1xyXG4gICAgICB0ZXh0ID0gcGFyc2VkLnRleHQgfHwgXCJcIjtcclxuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGVycm9yOiBcImZhaWxlZCB0byBwYXJzZSBwZGZcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB0ZXh0ID0gYnVmLnRvU3RyaW5nKFwidXRmOFwiKTtcclxuICB9XHJcbiAgYWRkRG9jKHRocmVhZElkLCB7IGlkOiByYW5kb21VVUlEKCksIG5hbWUsIHRleHQsIHRzOiBEYXRlLm5vdygpLCBlbmFibGVkOiB0cnVlIH0pO1xyXG4gIHJldHVybiBSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3QgdGhyZWFkSWQgPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KFwidGhyZWFkSWRcIikgfHwgXCJkZWZhdWx0XCI7XHJcbiAgY29uc3QgeyBpZCwgZW5hYmxlZCB9ID0gYXdhaXQgcmVxLmpzb24oKTtcclxuICBpZiAoIWlkIHx8IHR5cGVvZiBlbmFibGVkICE9PSBcImJvb2xlYW5cIikgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJpZCBhbmQgZW5hYmxlZCByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgc2V0RG9jRW5hYmxlZCh0aHJlYWRJZCwgaWQsIGVuYWJsZWQpO1xyXG4gIHJldHVybiBSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHRocmVhZElkID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcInRocmVhZElkXCIpIHx8IFwiZGVmYXVsdFwiO1xyXG4gIGNsZWFyRG9jcyh0aHJlYWRJZCk7XHJcbiAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSB9KTtcclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJhZGREb2MiLCJsaXN0RG9jcyIsInNldERvY0VuYWJsZWQiLCJjbGVhckRvY3MiLCJyYW5kb21VVUlEIiwicGRmUGFyc2UiLCJHRVQiLCJyZXEiLCJ0aHJlYWRJZCIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJSZXNwb25zZSIsImpzb24iLCJkb2NzIiwiUE9TVCIsImN0IiwiaGVhZGVycyIsImluY2x1ZGVzIiwiZXJyb3IiLCJzdGF0dXMiLCJmb3JtIiwiZm9ybURhdGEiLCJmaWxlIiwiRmlsZSIsIm5hbWUiLCJidWYiLCJCdWZmZXIiLCJmcm9tIiwiYXJyYXlCdWZmZXIiLCJ0ZXh0IiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInBhcnNlZCIsImUiLCJ0b1N0cmluZyIsImlkIiwidHMiLCJEYXRlIiwibm93IiwiZW5hYmxlZCIsIm9rIiwiUEFUQ0giLCJERUxFVEUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/docs/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDoc: () => (/* binding */ addDoc),\n/* harmony export */   clearDocs: () => (/* binding */ clearDocs),\n/* harmony export */   getDocsText: () => (/* binding */ getDocsText),\n/* harmony export */   getOrCreateThread: () => (/* binding */ getOrCreateThread),\n/* harmony export */   getParticipants: () => (/* binding */ getParticipants),\n/* harmony export */   listDocs: () => (/* binding */ listDocs),\n/* harmony export */   listThread: () => (/* binding */ listThread),\n/* harmony export */   saveMsg: () => (/* binding */ saveMsg),\n/* harmony export */   setDocEnabled: () => (/* binding */ setDocEnabled),\n/* harmony export */   setParticipants: () => (/* binding */ setParticipants)\n/* harmony export */ });\nconst threads = new Map();\nfunction getOrCreateThread(id) {\n    if (!threads.has(id)) {\n        // Sensible defaults; users can change selection in the UI\n        threads.set(id, {\n            id,\n            title: \"New Thread\",\n            participants: [\n                \"x-ai/grok-4\",\n                \"anthropic/claude-3.5-sonnet\",\n                \"openai/gpt-4o-mini\"\n            ],\n            messages: [],\n            docs: []\n        });\n    }\n    return threads.get(id);\n}\nfunction saveMsg(threadId, msg) {\n    const t = getOrCreateThread(threadId);\n    t.messages.push(msg);\n}\nfunction listThread(threadId) {\n    return getOrCreateThread(threadId);\n}\nfunction setParticipants(threadId, parts) {\n    const t = getOrCreateThread(threadId);\n    t.participants = parts;\n}\nfunction getParticipants(threadId) {\n    return getOrCreateThread(threadId).participants;\n}\nfunction addDoc(threadId, doc) {\n    const t = getOrCreateThread(threadId);\n    t.docs.push(doc);\n}\nfunction listDocs(threadId) {\n    return getOrCreateThread(threadId).docs;\n}\nfunction setDocEnabled(threadId, docId, enabled) {\n    const t = getOrCreateThread(threadId);\n    const d = t.docs.find((x)=>x.id === docId);\n    if (d) d.enabled = enabled;\n}\nfunction clearDocs(threadId) {\n    const t = getOrCreateThread(threadId);\n    t.docs = [];\n}\nfunction tokenizeToSet(text) {\n    return new Set((text || \"\").toLowerCase().split(/[^a-z0-9]+/g).filter((w)=>w && w.length > 2));\n}\nfunction chunkText(text, chunkSize = 800, overlap = 100) {\n    const out = [];\n    let i = 0;\n    while(i < text.length){\n        const end = Math.min(text.length, i + chunkSize);\n        out.push(text.slice(i, end));\n        if (end === text.length) break;\n        i = end - overlap;\n        if (i < 0) i = 0;\n    }\n    return out;\n}\nfunction getDocsText(threadId, maxChars = 2000, query) {\n    const docs = listDocs(threadId).filter((d)=>d.enabled);\n    if (docs.length === 0) return \"\";\n    const queryTerms = tokenizeToSet(query || \"\");\n    const scoredChunks = [];\n    for (const d of docs){\n        const chunks = chunkText(d.text);\n        for (const c of chunks){\n            if (!queryTerms.size) {\n                scoredChunks.push({\n                    name: d.name,\n                    chunk: c,\n                    score: 1\n                });\n            } else {\n                const terms = tokenizeToSet(c);\n                let match = 0;\n                for (const t of queryTerms)if (terms.has(t)) match++;\n                if (match > 0) scoredChunks.push({\n                    name: d.name,\n                    chunk: c,\n                    score: match\n                });\n            }\n        }\n    }\n    scoredChunks.sort((a, b)=>b.score - a.score);\n    const selected = [];\n    let total = 0;\n    for (const s of scoredChunks){\n        const section = `# ${s.name}\\n${s.chunk}`;\n        if (total + section.length > maxChars) break;\n        selected.push(section);\n        total += section.length + 8;\n        if (selected.length >= 5) break;\n    }\n    const joined = selected.join(\"\\n\\n---\\n\\n\");\n    return joined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVWixFQUFFSyxJQUFJO1FBQy9CLEtBQUssTUFBTXNCLEtBQUtELE9BQVE7WUFDdEIsSUFBSSxDQUFDRixXQUFXSSxJQUFJLEVBQUU7Z0JBQ3BCSCxhQUFhcEMsSUFBSSxDQUFDO29CQUFFd0MsTUFBTTdCLEVBQUU2QixJQUFJO29CQUFFQyxPQUFPSDtvQkFBR0ksT0FBTztnQkFBRTtZQUN2RCxPQUFPO2dCQUNMLE1BQU1DLFFBQVE1QixjQUFjdUI7Z0JBQzVCLElBQUlNLFFBQVE7Z0JBQ1osS0FBSyxNQUFNN0MsS0FBS29DLFdBQVksSUFBSVEsTUFBTXRELEdBQUcsQ0FBQ1UsSUFBSTZDO2dCQUM5QyxJQUFJQSxRQUFRLEdBQUdSLGFBQWFwQyxJQUFJLENBQUM7b0JBQUV3QyxNQUFNN0IsRUFBRTZCLElBQUk7b0JBQUVDLE9BQU9IO29CQUFHSSxPQUFPRTtnQkFBTTtZQUMxRTtRQUNGO0lBQ0Y7SUFDQVIsYUFBYVMsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVMLEtBQUssR0FBR0ksRUFBRUosS0FBSztJQUM3QyxNQUFNTSxXQUFxQixFQUFFO0lBQzdCLElBQUlDLFFBQVE7SUFDWixLQUFLLE1BQU1DLEtBQUtkLGFBQWM7UUFDNUIsTUFBTWUsVUFBVSxDQUFDLEVBQUUsRUFBRUQsRUFBRVYsSUFBSSxDQUFDLEVBQUUsRUFBRVUsRUFBRVQsS0FBSyxDQUFDLENBQUM7UUFDekMsSUFBSVEsUUFBUUUsUUFBUTdCLE1BQU0sR0FBR1csVUFBVTtRQUN2Q2UsU0FBU2hELElBQUksQ0FBQ21EO1FBQ2RGLFNBQVNFLFFBQVE3QixNQUFNLEdBQUc7UUFDMUIsSUFBSTBCLFNBQVMxQixNQUFNLElBQUksR0FBRztJQUM1QjtJQUNBLE1BQU04QixTQUFTSixTQUFTSyxJQUFJLENBQUM7SUFDN0IsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL211bHRpYm90LWNoYXQtb3BlbnJvdXRlci8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIE1zZyA9IHsgaWQ6IHN0cmluZzsgc3BlYWtlcjogc3RyaW5nOyB0ZXh0OiBzdHJpbmc7IHRzOiBudW1iZXI7IGNvbmZpZGVuY2U/OiBudW1iZXIgfTtcbmV4cG9ydCB0eXBlIERvYyA9IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB0ZXh0OiBzdHJpbmc7IHRzOiBudW1iZXI7IGVuYWJsZWQ6IGJvb2xlYW4gfTtcbmV4cG9ydCB0eXBlIFRocmVhZCA9IHsgaWQ6IHN0cmluZzsgdGl0bGU6IHN0cmluZzsgcGFydGljaXBhbnRzOiBzdHJpbmdbXTsgbWVzc2FnZXM6IE1zZ1tdOyBkb2NzOiBEb2NbXSB9O1xuXG5jb25zdCB0aHJlYWRzID0gbmV3IE1hcDxzdHJpbmcsIFRocmVhZD4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9yQ3JlYXRlVGhyZWFkKGlkOiBzdHJpbmcpOiBUaHJlYWQge1xuICBpZiAoIXRocmVhZHMuaGFzKGlkKSkge1xuICAgIC8vIFNlbnNpYmxlIGRlZmF1bHRzOyB1c2VycyBjYW4gY2hhbmdlIHNlbGVjdGlvbiBpbiB0aGUgVUlcbiAgICB0aHJlYWRzLnNldChpZCwge1xuICAgICAgaWQsXG4gICAgICB0aXRsZTogXCJOZXcgVGhyZWFkXCIsXG4gICAgICBwYXJ0aWNpcGFudHM6IFtcIngtYWkvZ3Jvay00XCIsIFwiYW50aHJvcGljL2NsYXVkZS0zLjUtc29ubmV0XCIsIFwib3BlbmFpL2dwdC00by1taW5pXCJdLFxuICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgZG9jczogW10sXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRocmVhZHMuZ2V0KGlkKSE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlTXNnKHRocmVhZElkOiBzdHJpbmcsIG1zZzogTXNnKSB7XG4gIGNvbnN0IHQgPSBnZXRPckNyZWF0ZVRocmVhZCh0aHJlYWRJZCk7XG4gIHQubWVzc2FnZXMucHVzaChtc2cpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdFRocmVhZCh0aHJlYWRJZDogc3RyaW5nKTogVGhyZWFkIHtcbiAgcmV0dXJuIGdldE9yQ3JlYXRlVGhyZWFkKHRocmVhZElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhcnRpY2lwYW50cyh0aHJlYWRJZDogc3RyaW5nLCBwYXJ0czogc3RyaW5nW10pIHtcbiAgY29uc3QgdCA9IGdldE9yQ3JlYXRlVGhyZWFkKHRocmVhZElkKTtcbiAgdC5wYXJ0aWNpcGFudHMgPSBwYXJ0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnRpY2lwYW50cyh0aHJlYWRJZDogc3RyaW5nKTogc3RyaW5nW10ge1xuICByZXR1cm4gZ2V0T3JDcmVhdGVUaHJlYWQodGhyZWFkSWQpLnBhcnRpY2lwYW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERvYyh0aHJlYWRJZDogc3RyaW5nLCBkb2M6IERvYykge1xuICBjb25zdCB0ID0gZ2V0T3JDcmVhdGVUaHJlYWQodGhyZWFkSWQpO1xuICB0LmRvY3MucHVzaChkb2MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdERvY3ModGhyZWFkSWQ6IHN0cmluZyk6IERvY1tdIHtcbiAgcmV0dXJuIGdldE9yQ3JlYXRlVGhyZWFkKHRocmVhZElkKS5kb2NzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RG9jRW5hYmxlZCh0aHJlYWRJZDogc3RyaW5nLCBkb2NJZDogc3RyaW5nLCBlbmFibGVkOiBib29sZWFuKSB7XG4gIGNvbnN0IHQgPSBnZXRPckNyZWF0ZVRocmVhZCh0aHJlYWRJZCk7XG4gIGNvbnN0IGQgPSB0LmRvY3MuZmluZCgoeCkgPT4geC5pZCA9PT0gZG9jSWQpO1xuICBpZiAoZCkgZC5lbmFibGVkID0gZW5hYmxlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRG9jcyh0aHJlYWRJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHQgPSBnZXRPckNyZWF0ZVRocmVhZCh0aHJlYWRJZCk7XG4gIHQuZG9jcyA9IFtdO1xufVxuXG5mdW5jdGlvbiB0b2tlbml6ZVRvU2V0KHRleHQ6IHN0cmluZyk6IFNldDxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBTZXQoKHRleHQgfHwgXCJcIikudG9Mb3dlckNhc2UoKS5zcGxpdCgvW15hLXowLTldKy9nKS5maWx0ZXIoKHcpID0+IHcgJiYgdy5sZW5ndGggPiAyKSk7XG59XG5cbmZ1bmN0aW9uIGNodW5rVGV4dCh0ZXh0OiBzdHJpbmcsIGNodW5rU2l6ZSA9IDgwMCwgb3ZlcmxhcCA9IDEwMCk6IHN0cmluZ1tdIHtcbiAgY29uc3Qgb3V0OiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChpIDwgdGV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBlbmQgPSBNYXRoLm1pbih0ZXh0Lmxlbmd0aCwgaSArIGNodW5rU2l6ZSk7XG4gICAgb3V0LnB1c2godGV4dC5zbGljZShpLCBlbmQpKTtcbiAgICBpZiAoZW5kID09PSB0ZXh0Lmxlbmd0aCkgYnJlYWs7XG4gICAgaSA9IGVuZCAtIG92ZXJsYXA7XG4gICAgaWYgKGkgPCAwKSBpID0gMDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jc1RleHQodGhyZWFkSWQ6IHN0cmluZywgbWF4Q2hhcnMgPSAyMDAwLCBxdWVyeT86IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGRvY3MgPSBsaXN0RG9jcyh0aHJlYWRJZCkuZmlsdGVyKChkKSA9PiBkLmVuYWJsZWQpO1xuICBpZiAoZG9jcy5sZW5ndGggPT09IDApIHJldHVybiBcIlwiO1xuXG4gIGNvbnN0IHF1ZXJ5VGVybXMgPSB0b2tlbml6ZVRvU2V0KHF1ZXJ5IHx8IFwiXCIpO1xuICB0eXBlIFNjb3JlZCA9IHsgbmFtZTogc3RyaW5nOyBjaHVuazogc3RyaW5nOyBzY29yZTogbnVtYmVyIH07XG4gIGNvbnN0IHNjb3JlZENodW5rczogU2NvcmVkW10gPSBbXTtcbiAgZm9yIChjb25zdCBkIG9mIGRvY3MpIHtcbiAgICBjb25zdCBjaHVua3MgPSBjaHVua1RleHQoZC50ZXh0KTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgY2h1bmtzKSB7XG4gICAgICBpZiAoIXF1ZXJ5VGVybXMuc2l6ZSkge1xuICAgICAgICBzY29yZWRDaHVua3MucHVzaCh7IG5hbWU6IGQubmFtZSwgY2h1bms6IGMsIHNjb3JlOiAxIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVybXMgPSB0b2tlbml6ZVRvU2V0KGMpO1xuICAgICAgICBsZXQgbWF0Y2ggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgcXVlcnlUZXJtcykgaWYgKHRlcm1zLmhhcyh0KSkgbWF0Y2grKztcbiAgICAgICAgaWYgKG1hdGNoID4gMCkgc2NvcmVkQ2h1bmtzLnB1c2goeyBuYW1lOiBkLm5hbWUsIGNodW5rOiBjLCBzY29yZTogbWF0Y2ggfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNjb3JlZENodW5rcy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gIGNvbnN0IHNlbGVjdGVkOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgdG90YWwgPSAwO1xuICBmb3IgKGNvbnN0IHMgb2Ygc2NvcmVkQ2h1bmtzKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGAjICR7cy5uYW1lfVxcbiR7cy5jaHVua31gO1xuICAgIGlmICh0b3RhbCArIHNlY3Rpb24ubGVuZ3RoID4gbWF4Q2hhcnMpIGJyZWFrO1xuICAgIHNlbGVjdGVkLnB1c2goc2VjdGlvbik7XG4gICAgdG90YWwgKz0gc2VjdGlvbi5sZW5ndGggKyA4O1xuICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPj0gNSkgYnJlYWs7XG4gIH1cbiAgY29uc3Qgam9pbmVkID0gc2VsZWN0ZWQuam9pbihcIlxcblxcbi0tLVxcblxcblwiKTtcbiAgcmV0dXJuIGpvaW5lZDtcbn1cbiJdLCJuYW1lcyI6WyJ0aHJlYWRzIiwiTWFwIiwiZ2V0T3JDcmVhdGVUaHJlYWQiLCJpZCIsImhhcyIsInNldCIsInRpdGxlIiwicGFydGljaXBhbnRzIiwibWVzc2FnZXMiLCJkb2NzIiwiZ2V0Iiwic2F2ZU1zZyIsInRocmVhZElkIiwibXNnIiwidCIsInB1c2giLCJsaXN0VGhyZWFkIiwic2V0UGFydGljaXBhbnRzIiwicGFydHMiLCJnZXRQYXJ0aWNpcGFudHMiLCJhZGREb2MiLCJkb2MiLCJsaXN0RG9jcyIsInNldERvY0VuYWJsZWQiLCJkb2NJZCIsImVuYWJsZWQiLCJkIiwiZmluZCIsIngiLCJjbGVhckRvY3MiLCJ0b2tlbml6ZVRvU2V0IiwidGV4dCIsIlNldCIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJmaWx0ZXIiLCJ3IiwibGVuZ3RoIiwiY2h1bmtUZXh0IiwiY2h1bmtTaXplIiwib3ZlcmxhcCIsIm91dCIsImkiLCJlbmQiLCJNYXRoIiwibWluIiwic2xpY2UiLCJnZXREb2NzVGV4dCIsIm1heENoYXJzIiwicXVlcnkiLCJxdWVyeVRlcm1zIiwic2NvcmVkQ2h1bmtzIiwiY2h1bmtzIiwiYyIsInNpemUiLCJuYW1lIiwiY2h1bmsiLCJzY29yZSIsInRlcm1zIiwibWF0Y2giLCJzb3J0IiwiYSIsImIiLCJzZWxlY3RlZCIsInRvdGFsIiwicyIsInNlY3Rpb24iLCJqb2luZWQiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/pdf-parse","vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocs%2Froute&page=%2Fapi%2Fdocs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocs%2Froute.ts&appDir=D%3A%5CCursor%5CThinkTank%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5CThinkTank&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();